import*as e from"react";import*as t from"@primer/octicons-react";import*as n from"react/jsx-runtime.js";var o={d:(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},r={};o.d(r,{Z:()=>C});const s="editor_update_read_only",a="editor_update_read_write",c=()=>({type:s}),d=()=>({type:a}),l={[s]:e=>e.set("contentIsReadOnly",!0),[a]:e=>e.set("contentIsReadOnly",!1)},i=e=>e.get("contentIsReadOnly")||!1,p=e=>!i(e);const u=(e=>{var t={};return o.d(t,e),t})({useEffect:()=>e.useEffect});const m=(e=>{var t={};return o.d(t,e),t})({LockIcon:()=>t.LockIcon,UnlockIcon:()=>t.UnlockIcon});const y=(e=>{var t={};return o.d(t,e),t})({Fragment:()=>n.Fragment,jsx:()=>n.jsx,jsxs:()=>n.jsxs}),g=({editorSelectors:e,editorActions:t})=>{const n=e=>()=>{e?t.setContentReadOnly():t.setContentReadWrite()};return e.selectContentIsReadWrite()?(0,y.jsx)("div",{className:"swagger-editor__generic-padding-thin-top-bottom",children:(0,y.jsx)("button",{type:"button",className:"swagger-editor__editor-pane-bar-control",onClick:n(!0),children:(0,y.jsx)(m.UnlockIcon,{size:"small","aria-label":"Unlock"})})}):(0,y.jsx)("div",{className:"swagger-editor__generic-padding-thin-top-bottom",children:(0,y.jsx)("button",{type:"button",className:"swagger-editor__editor-pane-bar-control",onClick:n(!1),children:(0,y.jsx)(m.LockIcon,{size:"small","aria-label":"Lock"})})})},j=(e,t)=>{const n=t.getComponent("ReadOnlySelection",!0),o=({renderControls:t,...o})=>(0,y.jsx)(e,{...o,renderControls:e=>t((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n,{}),e]}))});return o.defaultProps={renderControls:e=>e},o},R=(e,t)=>{const n=({isReadOnly:n,...o})=>{const r=t.editorSelectors.selectContentIsReadOnly(),s=null!==n&&void 0!==n?n:r;return(0,u.useEffect)((()=>{"boolean"===typeof n&&n!==r&&(n&&t.editorActions.setContentReadOnly(),n||t.editorActions.setContentReadWrite())}),[n,r]),(0,y.jsx)(e,{...o,isReadOnly:s})};return n.defaultProps={isReadOnly:null},n},C=()=>({components:{ReadOnlySelection:g},wrapComponents:{Editor:R,EditorPaneBarTop:j},statePlugins:{editor:{reducers:l,selectors:{selectContentIsReadOnly:i,selectContentIsReadWrite:p},actions:{setContentReadOnly:c,setContentReadWrite:d}}}});var x=r.Z;export{x as default};
//# sourceMappingURL=index.js.map