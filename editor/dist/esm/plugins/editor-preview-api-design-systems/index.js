import*as e from"short-unique-id";import*as s from"@swagger-api/apidom-parser-adapter-api-design-systems-json";import*as r from"@swagger-api/apidom-parser-adapter-api-design-systems-yaml";import*as t from"reselect";import*as n from"@swagger-api/apidom-core";import*as a from"@swagger-api/apidom-ns-api-design-systems";import*as l from"react/jsx-runtime.js";import*as i from"react";var c={d:(e,s)=>{for(var r in s)c.o(s,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)},o={};c.d(o,{Z:()=>Se});const d=(e=>{var s={};return c.d(s,e),s})({default:()=>e.default});const m=(e=>{var s={};return c.d(s,e),s})({parse:()=>s.parse});const p=(e=>{var s={};return c.d(s,e),s})({parse:()=>r.parse}),u="editor_preview_api_design_systems_preview_unmounted",h="editor_preview_api_design_systems_parse_started",x="editor_preview_api_design_systems_parse_success",j="editor_preview_api_design_systems_parse_failure",S=()=>({type:u}),v=({content:e,contentType:s,requestId:r})=>({type:h,payload:e,meta:{contentType:s,requestId:r}}),g=({parseResult:e,content:s,contentType:r,requestId:t})=>({type:x,payload:e,meta:{content:s,contentType:r,requestId:t}}),y=({error:e,content:s,contentType:r,requestId:t})=>({type:j,payload:e,error:!0,meta:{content:s,contentType:r,requestId:t}}),N=({content:e,contentType:s,parserOptions:r={}})=>{const t=new d.default({length:10});return async n=>{const{editorPreviewADSActions:a}=n,l=t();a.parseStarted({content:e,contentType:s,requestId:l});const i=s.includes("+json")?m.parse:p.parse;try{const t=await i(e,r);a.parseSuccess({parseResult:t,content:e,contentType:s,requestId:l})}catch(c){a.parseFailure({error:c,content:e,contentType:s,requestId:l})}}},f=(e=>{let s=null;return(r,t)=>(...n)=>{const a=r(...n);return a===s||(e(r,t)(...n),s=a),a}})(((e,s)=>({content:e})=>{const{editorSelectors:r,editorPreviewADSActions:t}=s;if(r.selectIsContentTypeAPIDesignSystems()){const s=r.selectContentType(),n={};t.parse({content:e,contentType:s,parserOptions:n})}}));const E=(e=>{var s={};return c.d(s,e),s})({createSelector:()=>t.createSelector});const I=(e=>{var s={};return c.d(s,e),s})({createNamespace:()=>n.createNamespace,from:()=>n.from,isArrayElement:()=>n.isArrayElement,isStringElement:()=>n.isStringElement,toString:()=>n.toString,toValue:()=>n.toValue});const P=(e=>{var s={};return c.d(s,e),s})({default:()=>a.default,isInfoElement:()=>a.isInfoElement,isMainElement:()=>a.isMainElement,isPrincipleElement:()=>a.isPrincipleElement,isRequirementLevelElement:()=>a.isRequirementLevelElement,isScenarioElement:()=>a.isScenarioElement,isStandardElement:()=>a.isStandardElement,isStandardIdentifierElement:()=>a.isStandardIdentifierElement}),w=(0,I.createNamespace)(P.default),A="idle",b="parsing",_="success",D="failure",q={parseStatus:A,parseRequestId:null,parseResult:null,parseError:null},R={[u]:e=>{const{parseStatus:s,parseRequestId:r,parseResult:t,parseErrors:n}=q;return e.merge({parseStatus:s,parseRequestId:r,parseResult:t,parseErrors:n})},[h]:(e,s)=>e.merge({parseStatus:b,parseRequestId:s.meta.requestId}),[x]:(e,s)=>{const r=e.get("parseStatus")||A,t=e.get("parseRequestId");return r===b&&t===s.meta.requestId?e.merge({parseStatus:_,parseRequestId:null,parseResult:(0,I.toString)(s.payload,w),parseErrors:null}):e},[j]:(e,s)=>{const r=e.get("parseStatus")||A,t=e.get("parseRequestId");return r===b&&t===s.meta.requestId?e.merge({parseStatus:D,parseRequestId:null,parseResult:null,parseErrors:s.payload}):e}},k=e=>e,C=(0,E.createSelector)(k,(e=>{const s=e.get("parseResult",q.parseResult);return"string"!==typeof s?null:(0,I.from)(s,w)})),T=(0,E.createSelector)(k,(e=>e.get("parseError",q.parseResult))),V=e=>e.get("parseStatus")||q.parseStatus,L=(0,E.createSelector)(V,C,T,((e,s,r)=>e===b&&null===s&&null===r)),M=(0,E.createSelector)(V,(e=>e===_)),F=(0,E.createSelector)(V,(e=>e===D)),O=(0,E.createSelector)(C,(e=>{if(null===e)return null;const{result:s}=e;return(0,P.isMainElement)(s)?s:null})),z=(0,E.createSelector)(O,(e=>{if(null===e)return null;const{version:s}=e;return(0,I.isStringElement)(s)?(0,I.toValue)(s):"2021-05-07"})),U=(0,E.createSelector)(O,(e=>{if(null===e)return null;const{info:s}=e;return(0,P.isInfoElement)(s)?(0,I.toValue)(s):null})),Z=(0,E.createSelector)(O,(e=>{if(null===e)return null;const{principles:s}=e;return(0,I.isArrayElement)(s)?s.length:0})),G=(0,E.createSelector)(O,(e=>{if(null===e)return null;const{standards:s}=e;return(0,I.isArrayElement)(s)?s.length:0})),$=(0,E.createSelector)(O,(e=>{if(null===e)return null;const{scenarios:s}=e;return(0,I.isArrayElement)(s)?s.length:0})),B=(0,E.createSelector)(O,(e=>{if(null===e)return[];const{principles:s}=e;return(0,I.isArrayElement)(s)?s.filter(P.isPrincipleElement).toValue():[]})),H=(0,E.createSelector)(O,(e=>{if(null===e)return[];const{standards:s}=e;return(0,I.isArrayElement)(s)?s.filter(P.isStandardElement).toValue():[]})),J=(0,E.createSelector)(O,(e=>{if(null===e)return[];const{scenarios:s}=e;return(0,I.isArrayElement)(s)?s.filter(P.isScenarioElement).elements:[]})),K=(e,{standardIdentifier:s})=>(0,P.isStandardIdentifierElement)(s)?`[${String((0,I.toValue)(s)).replaceAll(","," > ")}]`:"[]",Q=(e,{scenarioElement:s})=>(0,P.isScenarioElement)(s)&&(0,I.isStringElement)(s.description)?(0,I.toValue)(s.description):"",W=(e,{scenarioElement:s})=>(0,P.isScenarioElement)(s)&&(0,I.isArrayElement)(s.then)?s.then.content:[],X=(e,{requirementElement:s})=>(0,P.isRequirementLevelElement)(s.level)?(0,I.toValue)(s.level):"unknown",Y=(e,{requirementElement:s})=>(0,I.isArrayElement)(s.values)?String((0,I.toValue)(s.values)).replaceAll(",",", "):"unknown";const ee=(e=>{var s={};return c.d(s,e),s})({jsx:()=>l.jsx,jsxs:()=>l.jsxs}),se=({getComponent:e})=>{const s=e("ADSInfo",!0),r=e("ADSPrinciples",!0),t=e("ADSStandards",!0),n=e("ADSScenarios",!0);return(0,ee.jsx)("section",{className:"swagger-ui swagger-container",children:(0,ee.jsx)("div",{className:"swagger-ui",children:(0,ee.jsx)("div",{className:"information-container wrapper",children:(0,ee.jsxs)("section",{className:"block col-12",children:[(0,ee.jsx)(s,{}),(0,ee.jsx)(r,{}),(0,ee.jsx)(t,{}),(0,ee.jsx)(n,{}),(0,ee.jsx)("br",{})]})})})})},re=({editorPreviewADSSelectors:e})=>{const s=e.selectVersion(),r=e.selectInfo(),t=e.selectPrinciplesCount(),n=e.selectStandardsCount(),a=e.selectScenariosCount();return null===r?null:(0,ee.jsxs)("div",{className:"info",children:[(0,ee.jsx)("hgroup",{className:"main",children:(0,ee.jsxs)("h2",{className:"title",children:[r.title,(0,ee.jsxs)("span",{children:[(0,ee.jsx)("small",{children:(0,ee.jsx)("pre",{className:"version",children:s})}),(0,ee.jsx)("small",{className:"version-stamp",children:(0,ee.jsx)("pre",{className:"version",children:"ADS"})})]})]})}),(0,ee.jsx)("hgroup",{className:"main title",children:(0,ee.jsxs)("span",{children:[(0,ee.jsx)("small",{className:"summary-pill",children:(0,ee.jsxs)("pre",{className:"version",children:[" ",t," Principles"]})}),(0,ee.jsx)("small",{className:"summary-pill",children:(0,ee.jsxs)("pre",{className:"version",children:[" ",n," Standards"]})}),(0,ee.jsx)("small",{className:"summary-pill",children:(0,ee.jsxs)("pre",{className:"version",children:[" ",a," Scenarios"]})})]})}),(0,ee.jsx)("div",{className:"description",children:(0,ee.jsx)("div",{className:"renderedMarkdown",children:(0,ee.jsx)("p",{children:r.description})})})]})},te=({editorPreviewADSSelectors:e,getComponent:s})=>{const r=e.selectPrinciplesCount(),t=e.selectPrinciples(),n=s("ADSPrinciple");return(0,ee.jsx)("div",{className:"no-margin",children:(0,ee.jsxs)("div",{className:"opblock opblock-post is-open",children:[(0,ee.jsx)("div",{className:"opblock-summary opblock-summary-post",children:(0,ee.jsxs)("span",{className:"opblock-summary-method",style:{paddingLeft:"6px",paddingRight:"6px"},children:[r," Principles"]})}),(0,ee.jsx)("div",{className:"no-margin",children:(0,ee.jsxs)("div",{className:"opblock-body",children:[(0,ee.jsx)("div",{className:"opblock-description-wrapper",children:(0,ee.jsx)("div",{className:"opblock-description",children:(0,ee.jsx)("div",{className:"markdown",children:(0,ee.jsx)("p",{children:"Principles guide how decisions in API design and delivery should be made."})})})}),(0,ee.jsx)("div",{className:"opblock-section",children:(0,ee.jsx)("div",{className:"parameters-container",children:(0,ee.jsx)("div",{className:"table-container",children:(0,ee.jsxs)("table",{className:"model ads-principles",children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{className:"col_header",style:{width:"50%"},children:"Internationalized Resource Identifiers"}),(0,ee.jsx)("th",{className:"col_header",style:{width:"20%"},children:"level"}),(0,ee.jsx)("th",{className:"col_header",children:"Name"})]})}),(0,ee.jsx)("tbody",{children:t.map((e=>(0,ee.jsx)(n,{name:e.name,iri:e.iri,level:e.level},e.iri)))})]})})})})]})})]})})},ne=({name:e,iri:s,level:r})=>(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"property-primitivetype",children:s})}),(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"prop-type",children:r})}),(0,ee.jsx)("td",{children:e})]});ne.defaultProps={name:""};const ae=ne,le=({editorPreviewADSSelectors:e,getComponent:s})=>{const r=e.selectStandardsCount(),t=e.selectStandards(),n=s("ADSStandard");return(0,ee.jsx)("div",{className:"no-margin",children:(0,ee.jsxs)("div",{className:"opblock opblock-get is-open",children:[(0,ee.jsx)("div",{className:"opblock-summary opblock-summary-get",children:(0,ee.jsxs)("span",{className:"opblock-summary-method",style:{paddingLeft:"6px",paddingRight:"6px"},children:[r," Standards"]})}),(0,ee.jsx)("div",{className:"no-margin",children:(0,ee.jsxs)("div",{className:"opblock-body",children:[(0,ee.jsx)("div",{className:"opblock-description-wrapper",children:(0,ee.jsx)("div",{className:"opblock-description",children:(0,ee.jsx)("div",{className:"markdown",children:(0,ee.jsx)("p",{children:"Standards are industry best practices (e.g. RFCs) that shall influence the rules for API design."})})})}),(0,ee.jsx)("div",{className:"opblock-section",children:(0,ee.jsx)("div",{className:"parameters-container",children:(0,ee.jsx)("div",{className:"table-container",children:(0,ee.jsxs)("table",{className:"model ads-principles",children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{className:"col_header",style:{width:"50%"},children:"Internationalized Resource Identifiers"}),(0,ee.jsx)("th",{className:"col_header",style:{width:"20%"},children:"level"}),(0,ee.jsx)("th",{className:"col_header",children:"Name"})]})}),(0,ee.jsx)("tbody",{children:t.map((e=>(0,ee.jsx)(n,{name:e.name,iri:e.iri,level:e.level},e.iri)))})]})})})})]})})]})})},ie=({name:e,iri:s,level:r})=>(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"property-primitivetype",children:s})}),(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"prop-type",children:r})}),(0,ee.jsx)("td",{children:e})]});ie.defaultProps={name:""};const ce=ie,oe=({getComponent:e,editorPreviewADSSelectors:s})=>{const r=s.selectScenariosCount(),t=s.selectScenarios(),n=e("ADSScenario",!0);return(0,ee.jsx)("section",{className:"block col-12 block-desktop col-12-desktop",children:(0,ee.jsxs)("section",{className:"models is-open",children:[(0,ee.jsx)("h4",{children:(0,ee.jsxs)("button",{type:"button","aria-expanded":"true",className:"models-control",children:[(0,ee.jsxs)("span",{children:[r," Governance Scenarios"]}),(0,ee.jsx)("svg",{width:"20",height:"20","aria-hidden":"true",focusable:"false"})]})}),(0,ee.jsx)("div",{className:"no-margin",children:t.map((e=>{const r=s.selectStandardIdentifier({standardIdentifier:e.when});return(0,ee.jsx)(n,{element:e},r)}))})]})})},de=({getComponent:e,editorPreviewADSSelectors:s,element:r})=>{const t=s.selectStandardIdentifier({standardIdentifier:r.when}),n=s.selectScenarioDescription({scenarioElement:r}),a=s.selectScenarioRequirements({scenarioElement:r}),l=e("ADSRequirement",!0);return(0,ee.jsx)("div",{className:"modal-container",children:(0,ee.jsx)("span",{className:"model-box",style:{display:"block"},children:(0,ee.jsxs)("button",{type:"button","aria-expanded":"false",className:"model-box-control",style:{width:"100%"},children:[(0,ee.jsx)("span",{className:"pointer",children:(0,ee.jsx)("span",{className:"model-box",children:(0,ee.jsxs)("span",{className:"model model-title",children:[(0,ee.jsx)("strong",{children:"Scenario: "})," ",t]})})}),(0,ee.jsx)("div",{className:"description",children:(0,ee.jsx)("div",{className:"markdown",children:(0,ee.jsx)("p",{children:n})})}),(0,ee.jsx)("div",{className:"table-container",children:(0,ee.jsxs)("table",{className:"model",children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{className:"col_header",style:{width:"50%"},children:"Subject"}),(0,ee.jsx)("th",{className:"col_header",children:"Level"}),(0,ee.jsx)("th",{className:"col_header",style:{width:"40%"},children:"Values"})]})}),(0,ee.jsx)("tbody",{children:a.map(((e,s)=>(0,ee.jsx)(l,{element:e},s)))})]})})]})})})},me=({editorPreviewADSSelectors:e,element:s})=>{const r=e.selectStandardIdentifier({standardIdentifier:s.subject}),t=e.selectRequirementLevel({requirementElement:s}),n=e.selectRequirementValues({requirementElement:s});return(0,ee.jsxs)("tr",{className:"property-row",children:[(0,ee.jsx)("td",{children:r}),(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"prop-type",children:t})}),(0,ee.jsx)("td",{children:(0,ee.jsx)("span",{className:"property-primitive",children:n})})]})};const pe=(e=>{var s={};return c.d(s,e),s})({useEffect:()=>i.useEffect}),ue=()=>(0,ee.jsx)("div",{children:"Parsing..."}),he=({getComponent:e,editorPreviewADSActions:s,editorPreviewADSSelectors:r})=>{const t=e("ADSMain",!0),n=e("EditorPreviewAPIDesignSystemsParseErrors",!0),a=r.selectIsParseInProgress(),l=r.selectIsParseSuccess(),i=r.selectIsParseFailure(),c=r.selectParseError();return(0,pe.useEffect)((()=>()=>{s.previewUnmounted()}),[s]),(0,ee.jsxs)("section",{className:"swagger-editor__editor-preview-api-design-systems",children:[a&&(0,ee.jsx)(ue,{}),l&&(0,ee.jsx)(t,{}),i&&(0,ee.jsx)(n,{error:c})]})},xe=({error:e})=>(0,ee.jsx)("div",{className:"swagger-editor__editor-preview-api-design-systems-parse-errors",children:(0,ee.jsx)("div",{className:"swagger-ui",children:(0,ee.jsx)("div",{className:"version-pragma",children:(0,ee.jsx)("div",{className:"version-pragma__message version-pragma__message--missing",children:(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{children:"Invalid API Design Systems definition."}),(0,ee.jsxs)("p",{children:["Please fix the error: ",e.message]})]})})})})}),je=(e,s)=>({editorSelectors:r,getComponent:t})=>{const n=t("EditorPreviewAPIDesignSystems",!0);return r.selectIsContentTypeAPIDesignSystems()?(0,ee.jsx)(n,{}):(0,ee.jsx)(e,{...s})},Se=()=>({components:{ADSMain:se,ADSInfo:re,ADSPrinciples:te,ADSPrinciple:ae,ADSStandards:le,ADSStandard:ce,ADSScenarios:oe,ADSScenario:de,ADSRequirement:me,EditorPreviewAPIDesignSystems:he,EditorPreviewAPIDesignSystemsParseErrors:xe},wrapComponents:{EditorPreviewPane:je},statePlugins:{editor:{wrapActions:{detectContentTypeSuccess:f}},editorPreviewADS:{actions:{previewUnmounted:S,parse:N,parseStarted:v,parseSuccess:g,parseFailure:y},selectors:{selectParseStatus:V,selectIsParseInProgress:L,selectIsParseSuccess:M,selectIsParseFailure:F,selectParseResult:C,selectParseError:T,selectMainElement:O,selectVersion:z,selectInfo:U,selectPrinciplesCount:Z,selectStandardsCount:G,selectScenariosCount:$,selectPrinciples:B,selectStandards:H,selectScenarios:J,selectStandardIdentifier:K,selectScenarioDescription:Q,selectScenarioRequirements:W,selectRequirementLevel:X,selectRequirementValues:Y},reducers:R}}});var ve=o.Z;export{ve as default};
//# sourceMappingURL=index.js.map