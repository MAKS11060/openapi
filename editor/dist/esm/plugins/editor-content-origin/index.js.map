{"version":3,"file":"plugins/editor-content-origin/index.js","mappings":"AACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,sBCA3E,MAAMI,EAA4B,4BAE5BC,EAAmBA,CAACC,EAAgB,gBAAY,CAC3DC,KAAMH,EACNI,QAASC,OAAOH,KCIlB,EANiB,CACf,CAACF,GAA4B,CAACM,EAAOC,IAC5BD,EAAME,IAAI,gBAAiBD,EAAOH,UCHhCK,EAAuBH,GAAUA,EAAMZ,IAAI,kBAAoB,aCE/DgB,ECGoBC,KAC/B,IAAIC,EAAU,KAEd,MAAO,CAACC,EAAYC,IAClB,IAAIC,KACF,MAAMC,EAAMH,KAAcE,GAE1B,OAAIC,IAAQJ,IAIZD,EAAQE,EAAYC,EAApBH,IAA+BI,GAE/BH,EAAUI,GALDA,CAOC,CACX,EDnBqBC,EACxB,CAACC,EAAWJ,IAAW,CAACK,EAASjB,KAC/B,MAAM,cAAEkB,GAAkBN,EAE1BM,EAAcnB,iBAAiBC,EAAc,IEsBjD,EAnBkCmB,KACzB,CACLC,aAAc,CACZC,OAAQ,CACNC,YAAa,CACXd,WACF,GACAe,SAAQ,EACRC,UAAW,CACTjB,oBACF,GACAkB,QAAS,CACP1B,iBACF,O","sources":["../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","plugins/editor-content-origin/actions.js","plugins/editor-content-origin/reducers.js","plugins/editor-content-origin/selectors.js","plugins/editor-content-origin/wrap-actions.js","utils/create-safe-action-wrapper.js","plugins/editor-content-origin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export const EDITOR_CONTENT_SET_ORIGIN = 'editor_content_set_origin';\n\nexport const setContentOrigin = (contentOrigin = 'not-editor') => ({\n  type: EDITOR_CONTENT_SET_ORIGIN,\n  payload: String(contentOrigin),\n});\n","import { EDITOR_CONTENT_SET_ORIGIN } from './actions.js';\n\nconst reducers = {\n  [EDITOR_CONTENT_SET_ORIGIN]: (state, action) => {\n    return state.set('contentOrigin', action.payload);\n  },\n};\n\nexport default reducers;\n","// eslint-disable-next-line import/prefer-default-export\nexport const selectContentOrigin = (state) => state.get('contentOrigin') || 'not-editor';\n","import createSafeActionWrapper from '../../utils/create-safe-action-wrapper.js';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const setContent = createSafeActionWrapper(\n  (oriAction, system) => (content, contentOrigin) => {\n    const { editorActions } = system;\n\n    editorActions.setContentOrigin(contentOrigin);\n  }\n);\n","/**\n * Creates action wrapper that avoids double dispatch.\n *\n * @param wrapper\n * @returns {function(*, *): function(...[*]): (*)}\n */\nconst createSafeActionWrapper = (wrapper) => {\n  let lastFSA = null; // Flux Standard Action(FSA): action objects emitted through redux\n\n  return (origAction, system) =>\n    (...args) => {\n      const fsa = origAction(...args);\n\n      if (fsa === lastFSA) {\n        return fsa;\n      }\n\n      wrapper(origAction, system)(...args);\n\n      lastFSA = fsa;\n\n      return fsa;\n    };\n};\n\nexport default createSafeActionWrapper;\n","import reducers from './reducers.js';\nimport { selectContentOrigin } from './selectors.js';\nimport { setContentOrigin } from './actions.js';\nimport { setContent } from './wrap-actions.js';\n\n/**\n * Wraps setContent to include the \"contentOrigin\" parameter, defaulting to \"not-editor\".\n * Includes a selector to get the origin: `editorSelectors.selectContentOrigin()`.\n */\n\nconst EditorContentOriginPlugin = () => {\n  return {\n    statePlugins: {\n      editor: {\n        wrapActions: {\n          setContent,\n        },\n        reducers,\n        selectors: {\n          selectContentOrigin,\n        },\n        actions: {\n          setContentOrigin,\n        },\n      },\n    },\n  };\n};\n\nexport default EditorContentOriginPlugin;\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","EDITOR_CONTENT_SET_ORIGIN","setContentOrigin","contentOrigin","type","payload","String","state","action","set","selectContentOrigin","setContent","wrapper","lastFSA","origAction","system","args","fsa","createSafeActionWrapper","oriAction","content","editorActions","EditorContentOriginPlugin","statePlugins","editor","wrapActions","reducers","selectors","actions"],"sourceRoot":""}