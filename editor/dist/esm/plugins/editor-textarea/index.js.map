{"version":3,"file":"plugins/editor-textarea/index.js","mappings":"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","sources":["../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../external module \"react/jsx-runtime.js\"","plugins/editor-textarea/components/EditorPane/EditorPane.jsx","../external module \"react\"","../external module \"react-resize-detector\"","plugins/editor-textarea/hooks.js","plugins/editor-textarea/components/TextareaEditor/TextareaEditor.jsx","plugins/editor-textarea/components/EditorPaneBars/EditorPaneBarTop.jsx","plugins/editor-textarea/components/EditorPaneBars/EditorPaneBarRight.jsx","plugins/editor-textarea/components/EditorPaneBars/EditorPaneBarBottom.jsx","plugins/editor-textarea/components/EditorPaneBars/EditorPaneBarLeft.jsx","plugins/editor-textarea/actions.js","plugins/editor-textarea/reducers.js","plugins/editor-textarea/selectors.js","../external module \"lodash/debounce.js\"","utils/create-safe-action-wrapper.js","plugins/editor-textarea/wrap-actions.js","plugins/editor-textarea/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"jsx\"]: () => __WEBPACK_EXTERNAL_MODULE_react_jsx_runtime_js_fc12ce1a__.jsx, [\"jsxs\"]: () => __WEBPACK_EXTERNAL_MODULE_react_jsx_runtime_js_fc12ce1a__.jsxs });","import PropTypes from 'prop-types';\n\nconst EditorPane = ({ getComponent, useElementResize }) => {\n  const Editor = getComponent('Editor', true);\n  const EditorPaneBarTop = getComponent('EditorPaneBarTop');\n  const EditorPaneBarRight = getComponent('EditorPaneBarRight');\n  const EditorPaneBarBottom = getComponent('EditorPaneBarBottom');\n  const EditorPaneBarLeft = getComponent('EditorPaneBarLeft');\n  const editorContainerRef = useElementResize({ eventName: 'editorcontainerresize' });\n\n  return (\n    <div className=\"swagger-editor__editor-pane\">\n      <div className=\"swagger-editor__editor-pane-container-col\">\n        <EditorPaneBarTop />\n        <div className=\"swagger-editor__editor-pane-container-row\">\n          <EditorPaneBarLeft />\n          <div className=\"swagger-editor__editor-container\" ref={editorContainerRef}>\n            <Editor />\n          </div>\n        </div>\n        <EditorPaneBarBottom />\n      </div>\n      <EditorPaneBarRight />\n    </div>\n  );\n};\n\nEditorPane.propTypes = {\n  getComponent: PropTypes.func.isRequired,\n  useElementResize: PropTypes.func.isRequired,\n};\n\nexport default EditorPane;\n","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"useCallback\"]: () => __WEBPACK_EXTERNAL_MODULE_react__.useCallback, [\"useEffect\"]: () => __WEBPACK_EXTERNAL_MODULE_react__.useEffect, [\"useRef\"]: () => __WEBPACK_EXTERNAL_MODULE_react__.useRef, [\"useState\"]: () => __WEBPACK_EXTERNAL_MODULE_react__.useState });","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"useResizeDetector\"]: () => __WEBPACK_EXTERNAL_MODULE_react_resize_detector_b0babbde__.useResizeDetector });","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useResizeDetector } from 'react-resize-detector';\n\nexport const makeUseEditorLifecycle = (getSystem) => (implementation) => {\n  const { editorActions } = getSystem();\n  const editorRef = useRef(null);\n\n  useEffect(() => {\n    const { current } = editorRef;\n    editorActions.editorSetup(current, implementation);\n\n    return () => {\n      editorActions.editorTearDown(current, implementation);\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return editorRef;\n};\n\nexport const useElementResize = ({ eventName }) => {\n  const handleResize = useCallback(\n    (width, height) => {\n      const event = new globalThis.CustomEvent(eventName, {\n        detail: { width, height },\n      });\n      globalThis.dispatchEvent(event);\n    },\n    [eventName]\n  );\n  const { ref } = useResizeDetector({\n    onResize: handleResize,\n    refreshMode: 'debounce',\n    refreshRate: 0,\n  });\n\n  return ref;\n};\n\nexport const useId = () => {\n  const randomNumber = Math.floor(Math.random() * 10000000);\n  const [id] = useState(String(randomNumber));\n  return id;\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\n// @TODO(vladimir.gorej@gmail.com): this can be replaced by React.useId in React@18\nimport { useId } from '../../hooks.js';\n\nconst TextareaEditor = ({ isReadOnly, editorActions, editorSelectors, useEditorLifecycle }) => {\n  const content = editorSelectors.selectContent();\n  const id = useId();\n  const editorRef = useEditorLifecycle('textarea');\n  const [value, setValue] = useState(content);\n\n  const handleChange = useCallback(\n    (e) => {\n      e.preventDefault();\n      setValue(e.target.value);\n      editorActions.setContentDebounced(e.target.value, 'editor');\n    },\n    [editorActions]\n  );\n\n  useEffect(() => {\n    setValue(content);\n  }, [content]);\n\n  return (\n    <textarea\n      id={id}\n      ref={editorRef}\n      readOnly={isReadOnly}\n      className=\"swagger-editor__editor-textarea\"\n      name=\"content\"\n      value={value}\n      onChange={handleChange}\n    />\n  );\n};\n\nTextareaEditor.propTypes = {\n  isReadOnly: PropTypes.bool,\n  editorActions: PropTypes.shape({\n    setContentDebounced: PropTypes.func.isRequired,\n  }).isRequired,\n  editorSelectors: PropTypes.shape({\n    selectContent: PropTypes.func.isRequired,\n  }).isRequired,\n  useEditorLifecycle: PropTypes.func.isRequired,\n};\n\nTextareaEditor.defaultProps = {\n  isReadOnly: false,\n};\n\nexport default TextareaEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditorPaneBarTop = ({ renderChildren, renderControls }) => {\n  return (\n    <div className=\"swagger-editor__editor-pane-bar swagger-editor__editor-pane-bar--top\">\n      <div className=\"swagger-editor__toolbar-horizontal\">{renderControls(null)}</div>\n      {renderChildren(null)}\n    </div>\n  );\n};\n\nEditorPaneBarTop.propTypes = {\n  renderChildren: PropTypes.func,\n  renderControls: PropTypes.func,\n};\n\nEditorPaneBarTop.defaultProps = {\n  renderChildren: (children) => children,\n  renderControls: (controls) => controls,\n};\n\nexport default EditorPaneBarTop;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditorPaneBarRight = ({ renderChildren, renderControls }) => {\n  return (\n    <div className=\"swagger-editor__editor-pane-bar swagger-editor__editor-pane-bar--right\">\n      <div className=\"swagger-editor__toolbar-vertical\">{renderControls(null)}</div>\n      {renderChildren(null)}\n    </div>\n  );\n};\n\nEditorPaneBarRight.propTypes = {\n  renderChildren: PropTypes.func,\n  renderControls: PropTypes.func,\n};\n\nEditorPaneBarRight.defaultProps = {\n  renderChildren: (children) => children,\n  renderControls: (controls) => controls,\n};\n\nexport default EditorPaneBarRight;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditorPaneBarBottom = ({ renderChildren, renderControls }) => {\n  return (\n    <div className=\"swagger-editor__editor-pane-bar swagger-editor__editor-pane-bar--bottom\">\n      <div className=\"swagger-editor__toolbar-horizontal\">{renderControls(null)}</div>\n      {renderChildren(null)}\n    </div>\n  );\n};\n\nEditorPaneBarBottom.propTypes = {\n  renderChildren: PropTypes.func,\n  renderControls: PropTypes.func,\n};\n\nEditorPaneBarBottom.defaultProps = {\n  renderChildren: (children) => children,\n  renderControls: (controls) => controls,\n};\n\nexport default EditorPaneBarBottom;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EditorPaneBarLeft = ({ renderChildren, renderControls }) => {\n  return (\n    <div className=\"swagger-editor__editor-pane-bar swagger-editor__editor-pane-bar--left\">\n      <div className=\"swagger-editor__toolbar-vertical\">{renderControls(null)}</div>\n      {renderChildren(null)}\n    </div>\n  );\n};\n\nEditorPaneBarLeft.propTypes = {\n  renderChildren: PropTypes.func,\n  renderControls: PropTypes.func,\n};\n\nEditorPaneBarLeft.defaultProps = {\n  renderChildren: (children) => children,\n  renderControls: (controls) => controls,\n};\n\nexport default EditorPaneBarLeft;\n","export const EDITOR_SETUP = 'editor_setup';\nexport const EDITOR_TEAR_DOWN = 'editor_tear_down';\nexport const EDITOR_SET_CONTENT = 'editor_set_content';\nexport const EDITOR_CLEAR_CONTENT = 'editor_clear_content';\n\nexport const editorSetup = (editorInstance, implementation = 'textarea') => ({\n  type: EDITOR_SETUP,\n  payload: editorInstance,\n  meta: ['editor', implementation],\n});\n\nexport const editorTearDown = (editorInstance, implementation = 'textarea') => ({\n  type: EDITOR_TEAR_DOWN,\n  payload: editorInstance,\n  meta: ['editor', implementation],\n});\n\nexport const setContent = (content) => ({\n  type: EDITOR_SET_CONTENT,\n  payload: content,\n  meta: {},\n});\n\nexport const clearContent = () => ({\n  type: EDITOR_CLEAR_CONTENT,\n});\n","import { EDITOR_SET_CONTENT, EDITOR_SETUP, EDITOR_TEAR_DOWN } from './actions.js';\n\nexport const initialState = {\n  content: '',\n  id: null,\n};\n\nconst reducers = {\n  [EDITOR_SET_CONTENT]: (state, action) => {\n    return state.set('content', action.payload);\n  },\n  [EDITOR_SETUP]: (state, action) => {\n    if (!action.meta.includes('textarea')) {\n      return state;\n    }\n    return state.set('id', action.payload.id);\n  },\n  [EDITOR_TEAR_DOWN]: (state, action) => {\n    if (!action.meta.includes('textarea')) {\n      return state;\n    }\n    if (state.get('id') !== action.payload.id) {\n      return state;\n    }\n\n    return state.delete('id');\n  },\n};\n\nexport default reducers;\n","import { initialState } from './reducers.js';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const selectContent = (state) => state.get('content', initialState.content);\n\nexport const selectId = (state) => state.get('id', initialState.id);\n\nexport const selectEditor = () => (system) => {\n  const id = system.editorSelectors.selectId();\n  return document.getElementById(id);\n};\n","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"default\"]: () => __WEBPACK_EXTERNAL_MODULE_lodash_debounce_js_35379ba8__[\"default\"] });","/**\n * Creates action wrapper that avoids double dispatch.\n *\n * @param wrapper\n * @returns {function(*, *): function(...[*]): (*)}\n */\nconst createSafeActionWrapper = (wrapper) => {\n  let lastFSA = null; // Flux Standard Action(FSA): action objects emitted through redux\n\n  return (origAction, system) =>\n    (...args) => {\n      const fsa = origAction(...args);\n\n      if (fsa === lastFSA) {\n        return fsa;\n      }\n\n      wrapper(origAction, system)(...args);\n\n      lastFSA = fsa;\n\n      return fsa;\n    };\n};\n\nexport default createSafeActionWrapper;\n","import debounce from 'lodash/debounce.js';\n\nimport createSafeActionWrapper from '../../utils/create-safe-action-wrapper.js';\n\nexport const setContentDebouncedImpl = debounce((content, contentOrigin, system) => {\n  system.editorActions.setContent(content, contentOrigin);\n}, 500);\n\nexport const editorSetup = (oriAction) => (editorInstance, implementation) => {\n  oriAction(editorInstance, implementation);\n\n  globalThis.editor = editorInstance;\n  globalThis[implementation] = editorInstance;\n};\n\nexport const editorTearDown = (oriAction) => (editorInstance, implementation) => {\n  oriAction(editorInstance, implementation);\n\n  delete globalThis.editor;\n  delete globalThis[implementation];\n};\n\nexport const setContentDebounced = (oriAction, system) => (content, contentOrigin) => {\n  setContentDebouncedImpl(content, contentOrigin, system);\n};\n\nexport const clearContent = createSafeActionWrapper((oriAction, system) => () => {\n  system.editorActions.setContent('', 'clear');\n});\n\n/**\n * This wrapped action makes sure that setting initial definition\n * via `spec` or `url` SwaggerUI option is propagated to editor content.\n */\nexport const updateSpec = (oriAction, system) => (spec, origin) => {\n  const { editorActions, editorSelectors } = system;\n\n  const fsa = oriAction(spec, origin); // Flux Standard Action(FSA): action objects emitted through redux\n\n  if (origin !== 'swagger-editor' && editorSelectors.selectContent() !== spec) {\n    editorActions.setContent(spec);\n  }\n\n  return fsa;\n};\n","import EditorPane from './components/EditorPane/EditorPane.jsx';\nimport TextareaEditor from './components/TextareaEditor/TextareaEditor.jsx';\nimport EditorPaneBarTop from './components/EditorPaneBars/EditorPaneBarTop.jsx';\nimport EditorPaneBarRight from './components/EditorPaneBars/EditorPaneBarRight.jsx';\nimport EditorPaneBarBottom from './components/EditorPaneBars/EditorPaneBarBottom.jsx';\nimport EditorPaneBarLeft from './components/EditorPaneBars/EditorPaneBarLeft.jsx';\nimport { editorSetup, editorTearDown, setContent, clearContent } from './actions.js';\nimport { selectContent, selectId, selectEditor } from './selectors.js';\nimport reducers from './reducers.js';\nimport {\n  editorSetup as editorSetupWrap,\n  editorTearDown as editorTearDownWrap,\n  setContentDebounced as setContentDebouncedWrap,\n  updateSpec as updateSpecWrap,\n  clearContent as clearContentWrap,\n} from './wrap-actions.js';\nimport { makeUseEditorLifecycle, useElementResize } from './hooks.js';\n\nconst EditorTextareaPlugin = ({ getSystem }) => ({\n  rootInjects: {\n    useEditorLifecycle: makeUseEditorLifecycle(getSystem),\n    useElementResize,\n  },\n  components: {\n    EditorPane,\n    EditorPaneBarTop,\n    EditorPaneBarRight,\n    EditorPaneBarBottom,\n    EditorPaneBarLeft,\n    Editor: TextareaEditor,\n    TextareaEditor,\n  },\n  statePlugins: {\n    editor: {\n      actions: {\n        editorSetup,\n        editorTearDown,\n        setContent,\n        setContentDebounced: setContent,\n        clearContent,\n      },\n      wrapActions: {\n        editorSetup: editorSetupWrap,\n        editorTearDown: editorTearDownWrap,\n        setContentDebounced: setContentDebouncedWrap,\n        clearContent: clearContentWrap,\n      },\n      selectors: {\n        selectContent,\n        selectId,\n        selectEditor,\n      },\n      reducers,\n    },\n    spec: {\n      wrapActions: {\n        updateSpec: updateSpecWrap,\n      },\n    },\n  },\n});\n\nexport default EditorTextareaPlugin;\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","x","d","__WEBPACK_EXTERNAL_MODULE_react_jsx_runtime_js_fc12ce1a__","jsx","jsxs","EditorPane","getComponent","useElementResize","Editor","EditorPaneBarTop","EditorPaneBarRight","EditorPaneBarBottom","EditorPaneBarLeft","editorContainerRef","eventName","_jsxs","className","children","_jsx","ref","__WEBPACK_EXTERNAL_MODULE_react__","useCallback","useEffect","useRef","useState","__WEBPACK_EXTERNAL_MODULE_react_resize_detector_b0babbde__","useResizeDetector","makeUseEditorLifecycle","getSystem","implementation","editorActions","editorRef","current","editorSetup","editorTearDown","handleResize","width","height","event","globalThis","CustomEvent","detail","dispatchEvent","onResize","refreshMode","refreshRate","TextareaEditor","isReadOnly","editorSelectors","useEditorLifecycle","content","selectContent","id","useId","randomNumber","Math","floor","random","String","value","setValue","handleChange","e","preventDefault","target","setContentDebounced","readOnly","name","onChange","defaultProps","renderChildren","renderControls","controls","EDITOR_SETUP","EDITOR_TEAR_DOWN","EDITOR_SET_CONTENT","editorInstance","type","payload","meta","setContent","clearContent","initialState","state","action","set","includes","delete","selectId","selectEditor","system","document","getElementById","__WEBPACK_EXTERNAL_MODULE_lodash_debounce_js_35379ba8__","wrapper","lastFSA","origAction","args","fsa","setContentDebouncedImpl","debounce","contentOrigin","oriAction","editor","createSafeActionWrapper","updateSpec","spec","origin","EditorTextareaPlugin","rootInjects","components","statePlugins","actions","wrapActions","editorSetupWrap","editorTearDownWrap","setContentDebouncedWrap","clearContentWrap","selectors","reducers","updateSpecWrap"],"sourceRoot":""}